---
import type { ImageMetadata } from 'astro';
import { Picture } from 'astro:assets';

interface Props {
    horizontal: ImageMetadata;
    vertical: ImageMetadata;
    alt: string;
    class?: string;
}

const { horizontal, vertical, alt, class: className } = Astro.props;
---

<div class:list={['diagram-container', className]}>
    <Picture
        class="diagram diagram--horizontal"
        src={horizontal}
        alt={alt}
        formats={['avif', 'webp']}
        loading="lazy"
        widths={[754, 1509, 3018]}
        sizes="(min-width: 768px) 100vw, 50vw"
    />
    <Picture
        class="diagram diagram--vertical"
        src={vertical}
        alt={alt}
        formats={['avif', 'webp']}
        loading="lazy"
        widths={[796, 1592]}
        sizes="(max-width: 767px) 100vw, 50vw"
    />
</div>

<style>
    .diagram-container {
        @apply w-full;
    }

    .diagram {
        @apply w-full;
    }

    .diagram--horizontal {
        @apply hidden md:block;
    }

    .diagram--vertical {
        @apply block md:hidden;
    }
</style>
