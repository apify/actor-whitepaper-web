.mdx-content {
    & a {
        @apply border-b-[0.1em] font-medium;
    }

    & strong {
        @apply text-accent dark:text-accent-dark font-medium selection:bg-selection dark:selection:bg-selection-dark;
    }

    & em {
        @apply text-accent dark:text-accent-dark border-b-[0.1em] font-medium not-italic selection:bg-selection dark:selection:bg-selection-dark;
    }

    & h1,
    & h2,
    & h3,
    & h4 {
        @apply relative -mx-8 text-balance px-8 font-heading oldstyle-nums proportional-nums stacked-fractions tracking-tight;

        & .anchor {
            @apply opacity-0;
        }

        &:hover .anchor {
            @apply opacity-100;
        }
    }

    & h1 {
        @apply pb-4 pt-14 text-4xl lg:pb-6 lg:pt-20 lg:text-5xl;
    }

    & h2 {
        @apply border-ui-border-hr dark:border-ui-border-hr-dark mb-3 mt-10 border-t-4 pt-8 text-3xl first-of-type:mt-0 first-of-type:border-none lg:mb-6 lg:mt-14 lg:pt-12 lg:text-4xl;
    }

    & h3 {
        @apply pb-4 pt-3 text-2xl lg:pb-6 lg:pt-4 lg:text-3xl;
    }

    & h4 {
        @apply pb-4 pt-3 text-xl lg:pb-6 lg:pt-4 lg:text-2xl;
    }

    & p,
    & ul,
    & ol,
    & pre,
    & kbd,
    & samp,
    & code,
    & table,
    & img {
        @apply mb-4 leading-[1.35rem] lg:mb-6 lg:text-base lg:leading-[1.7rem];
    }

    & ul li {
        @apply relative before:absolute before:left-[-1.4em] before:content-['â†’'];
    }

    & ol li {
        @apply relative before:absolute before:left-[-1.4em];

        &::before {
            content: counter(list-item) '.';
        }
    }

    & p code,
    & table code {
        @apply rounded-md border border-code-stroke bg-code-bg px-[0.4em] py-[0.1em] font-source text-[0.91em] dark:border-code-stroke-dark dark:bg-code-bg-dark;
    }

    & pre {
        @apply overflow-x-auto rounded-md border border-code-stroke bg-code-bg p-4 dark:border-code-stroke-dark dark:bg-code-bg-dark;

        * {
            @apply font-source text-[0.97em];
        }
    }

    & img {
        @apply rounded-md border border-code-stroke bg-code-bg dark:border-code-stroke-dark dark:bg-code-bg-dark;

        &.is-wide {
            @apply rounded-none;

            &.is-wide {
                @apply relative left-[50%] right-[50%] -mx-[100vw] ml-[-50vw] mr-[-50vw] w-screen max-w-[100vw] rounded-none border-x-0;
            }
        }
    }

    & table {
        @apply w-full;

        & thead th:first-child,
        & thead th:nth-child(3) {
            @apply w-1/3;
        }

        & tr {
            @apply border-ui-border-hr dark:border-ui-border-hr-dark border-b last:border-b-0;
        }

        & td {
            @apply py-3 align-top;
        }

        & th {
            @apply border-b border-text pb-2 text-left font-normal dark:border-text-dark;
        }
    }

    & blockquote {
        @apply border-ui-border-hr dark:border-ui-border-hr-dark text-pretty border-l-4 pl-4;
    }
}

@media (prefers-color-scheme: dark) {
    .astro-code,
    .astro-code span {
        background-color: var(--shiki-dark-bg) !important;
        color: var(--shiki-dark) !important;
        font-style: var(--shiki-dark-font-style) !important;
        font-weight: var(--shiki-dark-font-weight) !important;
        text-decoration: var(--shiki-dark-text-decoration) !important;
    }
}
